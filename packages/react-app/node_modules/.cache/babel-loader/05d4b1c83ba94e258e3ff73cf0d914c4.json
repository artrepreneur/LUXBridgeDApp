{"ast":null,"code":"import _regeneratorRuntime from\"/Library/WebServer/Documents/MachineLearning/trading/PKT-CASH/LUX/ODApp/packages/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Library/WebServer/Documents/MachineLearning/trading/PKT-CASH/LUX/ODApp/packages/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Library/WebServer/Documents/MachineLearning/trading/PKT-CASH/LUX/ODApp/packages/react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useCallback,useEffect,useState}from\"react\";import{Web3Provider}from\"@ethersproject/providers\";import Web3Modal from\"web3modal\";import WalletConnectProvider from\"@walletconnect/web3-provider\";import detectEthereumProvider from'@metamask/detect-provider';// Enter a valid infura key here to avoid being rate limited\n// You can get a key for free at https://infura.io/register\nvar INFURA_ID=\"\";var NETWORK_NAME=\"rinkeby\";//\"mainnet\";\nfunction useWeb3Modal(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _useState=useState(),_useState2=_slicedToArray(_useState,2),provider=_useState2[0],setProvider=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),autoLoaded=_useState4[0],setAutoLoaded=_useState4[1];var _config$autoLoad=config.autoLoad,autoLoad=_config$autoLoad===void 0?true:_config$autoLoad,_config$infuraId=config.infuraId,infuraId=_config$infuraId===void 0?INFURA_ID:_config$infuraId,_config$NETWORK=config.NETWORK,NETWORK=_config$NETWORK===void 0?NETWORK_NAME:_config$NETWORK;// Web3Modal also supports many other wallets.\nvar web3Modal=new Web3Modal({network:NETWORK,cacheProvider:true,providerOptions:{walletconnect:{package:WalletConnectProvider,options:{infuraId:infuraId}}}});//installMetamask();\n/*function installMetamask() {\n    if (!(window.web3 || window.ethereum)) {\n      if ($('#installMetaMask').length < 1)\n        $('.web3modal-modal-card').prepend('<div id=\"installMetaMask\" class=\"cjAFRf web3modal-provider-wrapper\"><a href=\"https://metamask.io/\" target=\"_blank\" class=\"cjAFRf web3modal-provider-container\"><div class=\"jMhaxE web3modal-provider-icon\"><img src=\"./assets/img/metamask.svg\" alt=\"MetaMask\"></div><div class=\"bktcUM sc-web3modal-provider-name mt-0\">Install MetaMask</div><div class=\"eFHlqH web3modal-provider-description\">Connect using browser wallet</div></a></div>')\n    }\n  }*/ // Open wallet selection modal.\nvar loadWeb3Modal=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newProvider;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return web3Modal.connect();case 2:newProvider=_context.sent;setProvider(new Web3Provider(newProvider));case 4:case\"end\":return _context.stop();}}},_callee);})),[web3Modal]);var logoutOfWeb3Modal=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return web3Modal.clearCachedProvider();case 2:window.location.reload();case 3:case\"end\":return _context2.stop();}}},_callee2);})),[web3Modal]);// If autoLoad is enabled and the the wallet had been loaded before, load it automatically now.\nuseEffect(function(){if(autoLoad&&!autoLoaded&&web3Modal.cachedProvider){loadWeb3Modal();setAutoLoaded(true);}},[autoLoad,autoLoaded,loadWeb3Modal,setAutoLoaded,web3Modal.cachedProvider]);return[provider,loadWeb3Modal,logoutOfWeb3Modal];}export default useWeb3Modal;","map":{"version":3,"names":["useCallback","useEffect","useState","Web3Provider","Web3Modal","WalletConnectProvider","detectEthereumProvider","INFURA_ID","NETWORK_NAME","useWeb3Modal","config","provider","setProvider","autoLoaded","setAutoLoaded","autoLoad","infuraId","NETWORK","web3Modal","network","cacheProvider","providerOptions","walletconnect","package","options","loadWeb3Modal","connect","newProvider","logoutOfWeb3Modal","clearCachedProvider","window","location","reload","cachedProvider"],"sources":["/Library/WebServer/Documents/MachineLearning/trading/PKT-CASH/LUX/ODApp/packages/react-app/src/hooks/useWeb3Modal.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport detectEthereumProvider from '@metamask/detect-provider';\n\n// Enter a valid infura key here to avoid being rate limited\n// You can get a key for free at https://infura.io/register\nconst INFURA_ID = \"\";\n\nconst NETWORK_NAME = \"rinkeby\";//\"mainnet\";\n\nfunction useWeb3Modal(config = {}) {\n  const [provider, setProvider] = useState();\n  const [autoLoaded, setAutoLoaded] = useState(false);\n  const { autoLoad = true, infuraId = INFURA_ID, NETWORK = NETWORK_NAME } = config;\n\n  // Web3Modal also supports many other wallets.\n  const web3Modal = new Web3Modal({\n    network: NETWORK,\n    cacheProvider: true,\n    providerOptions: {\n      walletconnect: {\n        package: WalletConnectProvider,\n        options: {\n          infuraId,\n        },\n      }\n    },\n  });\n\n  //installMetamask();\n\n  /*function installMetamask() {\n    if (!(window.web3 || window.ethereum)) {\n      if ($('#installMetaMask').length < 1)\n        $('.web3modal-modal-card').prepend('<div id=\"installMetaMask\" class=\"cjAFRf web3modal-provider-wrapper\"><a href=\"https://metamask.io/\" target=\"_blank\" class=\"cjAFRf web3modal-provider-container\"><div class=\"jMhaxE web3modal-provider-icon\"><img src=\"./assets/img/metamask.svg\" alt=\"MetaMask\"></div><div class=\"bktcUM sc-web3modal-provider-name mt-0\">Install MetaMask</div><div class=\"eFHlqH web3modal-provider-description\">Connect using browser wallet</div></a></div>')\n    }\n  }*/\n\n  // Open wallet selection modal.\n  const loadWeb3Modal = useCallback(async () => {\n    const newProvider = await web3Modal.connect();\n    setProvider(new Web3Provider(newProvider));\n  }, [web3Modal]);\n\n  const logoutOfWeb3Modal = useCallback(\n    async function () {\n      await web3Modal.clearCachedProvider();\n      window.location.reload();\n    },\n    [web3Modal],\n  );\n\n  // If autoLoad is enabled and the the wallet had been loaded before, load it automatically now.\n  useEffect(() => {\n    if (autoLoad && !autoLoaded && web3Modal.cachedProvider) {\n      loadWeb3Modal();\n      setAutoLoaded(true);\n    }\n  }, [autoLoad, autoLoaded, loadWeb3Modal, setAutoLoaded, web3Modal.cachedProvider]);\n\n  return [provider, loadWeb3Modal, logoutOfWeb3Modal];\n}\n\nexport default useWeb3Modal;\n"],"mappings":"gnBAAA,OAASA,WAAT,CAAsBC,SAAtB,CAAiCC,QAAjC,KAAiD,OAAjD,CACA,OAASC,YAAT,KAA6B,0BAA7B,CACA,MAAOC,CAAAA,SAAP,KAAsB,WAAtB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,8BAAlC,CACA,MAAOC,CAAAA,sBAAP,KAAmC,2BAAnC,CAEA;AACA;AACA,GAAMC,CAAAA,SAAS,CAAG,EAAlB,CAEA,GAAMC,CAAAA,YAAY,CAAG,SAArB,CAA+B;AAE/B,QAASC,CAAAA,YAAT,EAAmC,IAAbC,CAAAA,MAAa,2DAAJ,EAAI,CACjC,cAAgCR,QAAQ,EAAxC,wCAAOS,QAAP,eAAiBC,WAAjB,eACA,eAAoCV,QAAQ,CAAC,KAAD,CAA5C,yCAAOW,UAAP,eAAmBC,aAAnB,eACA,qBAA0EJ,MAA1E,CAAQK,QAAR,CAAQA,QAAR,2BAAmB,IAAnB,mCAA0EL,MAA1E,CAAyBM,QAAzB,CAAyBA,QAAzB,2BAAoCT,SAApC,kCAA0EG,MAA1E,CAA+CO,OAA/C,CAA+CA,OAA/C,0BAAyDT,YAAzD,iBAEA;AACA,GAAMU,CAAAA,SAAS,CAAG,GAAId,CAAAA,SAAJ,CAAc,CAC9Be,OAAO,CAAEF,OADqB,CAE9BG,aAAa,CAAE,IAFe,CAG9BC,eAAe,CAAE,CACfC,aAAa,CAAE,CACbC,OAAO,CAAElB,qBADI,CAEbmB,OAAO,CAAE,CACPR,QAAQ,CAARA,QADO,CAFI,CADA,CAHa,CAAd,CAAlB,CAaA;AAEA;AACF;AACA;AACA;AACA;AACA,KA1BmC,CA4BjC;AACA,GAAMS,CAAAA,aAAa,CAAGzB,WAAW,sEAAC,yKACNkB,CAAAA,SAAS,CAACQ,OAAV,EADM,QAC1BC,WAD0B,eAEhCf,WAAW,CAAC,GAAIT,CAAAA,YAAJ,CAAiBwB,WAAjB,CAAD,CAAX,CAFgC,sDAAD,GAG9B,CAACT,SAAD,CAH8B,CAAjC,CAKA,GAAMU,CAAAA,iBAAiB,CAAG5B,WAAW,sEACnC,+JACQkB,CAAAA,SAAS,CAACW,mBAAV,EADR,QAEEC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAFF,wDADmC,GAKnC,CAACd,SAAD,CALmC,CAArC,CAQA;AACAjB,SAAS,CAAC,UAAM,CACd,GAAIc,QAAQ,EAAI,CAACF,UAAb,EAA2BK,SAAS,CAACe,cAAzC,CAAyD,CACvDR,aAAa,GACbX,aAAa,CAAC,IAAD,CAAb,CACD,CACF,CALQ,CAKN,CAACC,QAAD,CAAWF,UAAX,CAAuBY,aAAvB,CAAsCX,aAAtC,CAAqDI,SAAS,CAACe,cAA/D,CALM,CAAT,CAOA,MAAO,CAACtB,QAAD,CAAWc,aAAX,CAA0BG,iBAA1B,CAAP,CACD,CAED,cAAenB,CAAAA,YAAf"},"metadata":{},"sourceType":"module"}